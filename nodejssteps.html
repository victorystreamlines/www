<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø´Ù‘ÙŠÙ‡Ø§ Ø¹Ù„ÙŠ â€” Node.js + React + TypeScript</title>
  <style>
    :root{
      --bg:#0b1020;--panel:#121936;--ink:#eaf2ff;--muted:#a9b7ff;--accent:#7c5cff;--accent2:#22d3ee;--good:#22c55e;--warn:#f59e0b;--bad:#ef4444;
      --glow:0 0 0px rgba(124,92,255,0.0), 0 0 20px rgba(124,92,255,0.25), 0 0 40px rgba(34,211,238,0.15);
    }
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(1200px 800px at 80% -10%, rgba(124,92,255,.15), transparent), radial-gradient(900px 700px at 10% 110%, rgba(34,211,238,.12), transparent), var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;}
    header{position:sticky;top:0;z-index:10;background:linear-gradient(180deg, rgba(11,16,32,.9), rgba(11,16,32,.6));backdrop-filter:saturate(1.3) blur(8px);border-bottom:1px solid rgba(124,92,255,.25)}
    .wrap{max-width:1200px;margin:auto;padding:16px}
    .title{display:flex;align-items:center;gap:12px}
    .logo{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:var(--glow)}
    .logo svg{filter:drop-shadow(0 4px 14px rgba(124,92,255,.4))}
    .subtitle{color:var(--muted);font-size:14px}

    .layout{display:grid;grid-template-columns:280px 1fr;gap:16px;max-width:1200px;margin:22px auto;padding:0 16px}
    nav{position:sticky;top:74px;height:calc(100vh - 90px);overflow:auto;padding:12px;background:rgba(18,25,54,.6);border:1px solid rgba(124,92,255,.2);border-radius:16px}
    nav .sec{display:flex;flex-direction:column;gap:8px}
    .link{padding:10px 12px;border-radius:12px;color:var(--ink);text-decoration:none;border:1px solid transparent;display:flex;align-items:center;gap:10px}
    .link:hover{background:rgba(124,92,255,.12);border-color:rgba(124,92,255,.25)}
    .active{background:linear-gradient(135deg, rgba(124,92,255,.22), rgba(34,211,238,.12));border-color:rgba(124,92,255,.35);box-shadow:var(--glow)}

    main{display:flex;flex-direction:column;gap:18px}
    .card{background:linear-gradient(180deg, rgba(18,25,54,.9), rgba(18,25,54,.75));border:1px solid rgba(124,92,255,.25);border-radius:18px;overflow:hidden}
    .card .hdr{display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px dashed rgba(124,92,255,.3)}
    .badge{font-size:12px;background:rgba(124,92,255,.25);border:1px solid rgba(124,92,255,.5);padding:4px 8px;border-radius:999px;color:#fff}
    .stepN{font-weight:700;font-feature-settings:"tnum" 1,"lnum" 1}
    .card .body{padding:16px;display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
    .panel{background:rgba(10,14,28,.6);border:1px solid rgba(124,92,255,.2);border-radius:14px;padding:14px;position:relative}
    .panel h4{margin:0 0 6px 0;color:#fff}
    .panel p{margin:6px 0;color:var(--muted)}

    .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .btn{cursor:pointer;background:linear-gradient(135deg, var(--accent), var(--accent2));border:none;color:white;padding:10px 14px;border-radius:12px;font-weight:600;box-shadow:var(--glow)}
    .btn.alt{background:transparent;border:1px solid rgba(124,92,255,.45)}

    .console{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:13px;line-height:1.5;background:#050814;border:1px solid rgba(124,92,255,.25);border-radius:12px;padding:12px;height:160px;overflow:auto;position:relative}
    .cursor{display:inline-block;width:8px;height:14px;background:#7c5cff;margin-left:2px;animation:blink 1s step-end infinite}
    @keyframes blink{50%{opacity:0}}
    .flash{position:absolute;inset:0;pointer-events:none}
    .flash::after{content:"";position:absolute;inset:0;background:radial-gradient(600px 200px at 50% -10%, rgba(124,92,255,.2), transparent);animation:shine 1.2s ease}
    @keyframes shine{from{opacity:.8}to{opacity:0}}

    .progress{height:8px;background:rgba(124,92,255,.2);border-radius:999px;overflow:hidden}
    .bar{height:100%;width:0;background:linear-gradient(90deg, var(--accent), var(--accent2));transition:width .6s ease}

    .tip{display:flex;gap:10px;align-items:flex-start;background:rgba(34,211,238,.12);border:1px solid rgba(34,211,238,.35);padding:10px 12px;border-radius:12px;color:#d9fbff}

    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid rgba(124,92,255,.4);border-radius:999px;font-size:12px;background:rgba(124,92,255,.12)}

    .footer{opacity:.8;text-align:center;padding:24px}

    /* confetti */
    .confetti{position:fixed;inset:0;pointer-events:none;overflow:hidden}
    .piece{position:absolute;width:8px;height:14px;background:linear-gradient(180deg, var(--accent), var(--accent2));opacity:0.9;transform:rotate(20deg);border-radius:2px;animation:fall 1400ms cubic-bezier(.2,.7,.3,1) forwards}
    @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="title">
        <div class="logo" aria-hidden="true">
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M4 12c0-4.418 3.582-8 8-8a8 8 0 0 1 7.3 4.6" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            <path d="M20 12c0 4.418-3.582 8-8 8a8 8 0 0 1-7.3-4.6" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            <circle cx="12" cy="12" r="2.6" fill="#fff"/>
          </svg>
        </div>
        <div>
          <h1 style="margin:0">Ù…Ø´Ù‘ÙŠÙ‡Ø§ Ø¹Ù„ÙŠ â€” Ø¯Ù„ÙŠÙ„ ØªÙØ§Ø¹Ù„ÙŠ Ù„ØªØ´ØºÙŠÙ„ Ù…Ø´Ø§Ø±ÙŠØ¹ <span class="pill">Node.js</span> <span class="pill">React</span> <span class="pill">TypeScript</span></h1>
          <div class="subtitle">Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© â€” Ø¨Ø±ÙˆÙ…Ø¨ØªØ§Øª Ø¬Ø§Ù‡Ø²Ø© + Ø´Ø±Ø­ ÙˆØ´ ÙŠØµÙŠØ± Ø®Ù„Ù Ø§Ù„ÙƒÙˆØ§Ù„ÙŠØ³ØŒ Ù…Ø¹ Ø­Ø±ÙƒØ§Øª ØªÙØªØ­ Ø§Ù„Ù†ÙØ³ âœ¨</div>
        </div>
      </div>
    </div>
  </header>

  <div class="layout">
    <nav id="nav"></nav>
    <main id="main"></main>
  </div>

  <div class="footer">ØµÙÙ†ÙØ¹ Ø¨Ø­Ø¨ â€” Ù„Ù„Ø±ÙŠØ³ Ø£Ø¨Ùˆ Ø·Ù„Ø§Ù„ â€” Ø¹Ù„Ø´Ø§Ù† Ù…Ø§ ØªÙ…Ù„ ğŸ’™</div>
  <div class="confetti" id="confetti"></div>

<script>
// ======= Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ§Øª =======
const steps = [
  {
    id:"env",
    icon:"ğŸ§°",
    title:"ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ¦Ø©: Node LTS",
    badge:"Ù…Ø±Ø© ÙˆØ­Ø¯Ø©",
    prompt:"Ø«Ø¨Ù‘Øª Node.js LTS ÙˆØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ node Ùˆ npm ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù….",
    behind:[
      "ÙŠØ¶ÙŠÙ Ù…Ø´ØºÙ‘Ù„ JavaScript Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…ØªØµÙØ­ (V8) + Ù…Ø¯ÙŠØ± Ø§Ù„Ø­Ø²Ù… npm.",
      "ÙŠØ³Ù…Ø­ Ø¨ØªØ´ØºÙŠÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ø«Ù„ Vite/Next Ù…Ø­Ù„ÙŠÙ‹Ø§.",
      "Ù„Ø§ Ù†Ø­ØªØ§Ø¬ ØªØ«Ø¨ÙŠØª React/TypeScript Ø¹Ø§Ù„Ù…ÙŠÙ‹Ø§ â€” ØªØ¬ÙŠ Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹."
    ],
    tips:["Ù„Ùˆ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ø´Ø§Ø±ÙŠØ¹ ÙƒØ«ÙŠØ±Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… nvm Ù„Ø¥Ø¯Ø§Ø±Ø© Ù†Ø³Ø® Node."],
  },
  {
    id:"open",
    icon:"ğŸ“‚",
    title:"ÙØªØ­ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø¬Ø§Ù‡Ø²",
    badge:"Bolt/Cursor",
    prompt:"Ø§ÙØªØ­ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙÙŠ Cursor/Ø§Ù„Ù…Ø­Ø±Ø± ÙˆØ§Ù†ØªÙ‚Ù„ Ù„Ù‡.",
    behind:[
      "Ù†Ø®Ù„ÙŠ ÙƒÙ„ Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„/Ø§Ù„ØªØ«Ø¨ÙŠØª ØªØªÙ… Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯.",
      "Ø§Ù„Ù…Ø­Ø±Ø± ÙŠÙØ¹Ù„ ØªÙƒØ§Ù…Ù„Ø§Øª Ù„Ù„Ù€ linting/TypeScript Ø­Ø³Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹."],
    tips:["Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù…Ù‡Ù… Ù„Ùˆ ÙÙŠÙ‡ workspaces â€” Ø®Ù„Ùƒ ÙÙŠ Ø§Ù„Ø¬Ø°Ø± Ø§Ù„ØµØ­ÙŠØ­."]
  },
  {
    id:"read",
    icon:"ğŸ“œ",
    title:"ØªØ¹Ø±Ù‘Ù Ø¹Ù„Ù‰ Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„",
    badge:"package.json",
    prompt:"Ø§ÙØªØ­ package.json ÙˆØ´ÙˆÙ scripts Ùˆ dependencies ÙˆØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø³ØªØ§Ùƒ (Vite/Next/CRA).",
    behind:[
      "scripts ØªØ­Ø¯Ø¯ Ø£ÙˆØ§Ù…Ø± Ù…Ø«Ù„ dev/start/build.",
      "dependencies ØªÙˆØ¶Ø­ Ù‡Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ React + TypeScript ÙˆÙ…Ø¹ Ø£ÙŠ Ø£Ø¯Ø§Ø© Ø¨Ù†Ø§Ø¡.",
      "Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± ÙŠØ­Ø¯Ø¯ Ø£Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„: Vite/Next = devØŒ Ùˆ CRA = start."],
    tips:["Ù„Ùˆ Ù„Ù‚ÙŠØª vite â†’ npm run dev. Ù„Ùˆ next â†’ npm run dev. Ù„Ùˆ react-scripts â†’ npm start."]
  },
  {
    id:"install",
    icon:"â¬‡ï¸",
    title:"ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯Ø§Øª",
    badge:"npm install",
    prompt:"Ù†Ø²Ù‘Ù„ ÙƒÙ„ Ø§Ù„Ø­Ø²Ù… Ù„Ù„Ù…Ø´Ø±ÙˆØ¹.",
    behind:[
      "npm ÙŠÙ‚Ø±Ø£ package.json ÙˆÙŠÙ†Ø²Ù„ Ø§Ù„Ø­Ø²Ù… Ø¥Ù„Ù‰ node_modules.",
      "ÙŠÙ†Ø´Ø¦/ÙŠØ­Ø¯Ù‘Ø« package-lock.json Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª.",
      "ÙŠØ¬Ù‡Ù‘Ø² Ø¨Ø§ÙŠÙ†Ø±ÙŠØ§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Øª (vite/next/react-scripts) Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ø®Ù„ scripts."],
    tips:["Ù„Ùˆ ÙÙŠÙ‡ Ù…Ø´Ø§ÙƒÙ„ØŒ Ù†Ø¸Ù‘Ù node_modules ÙˆÙ…Ù„Ù Ø§Ù„Ù‚ÙÙ„ ÙˆØ£Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª."]
  },
  {
    id:"run",
    icon:"ğŸš€",
    title:"ØªØ´ØºÙŠÙ„ Ø®Ø§Ø¯Ù… Ø§Ù„ØªØ·ÙˆÙŠØ±",
    badge:"dev server",
    prompt:"Ø´ØºÙ‘Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ù…Ø­Ù„ÙŠ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø³ØªØ§Ùƒ.",
    behind:[
      "Vite/Next/CRA ÙŠØ¨Ø¯Ø¤ÙˆÙ† dev server Ø¹Ù„Ù‰ Ù…Ù†ÙØ° Ù…Ø­Ù„ÙŠ (5173/3000).",
      "ÙŠØªØ±Ø¬Ù… TypeScript Ø¥Ù„Ù‰ JS ÙˆÙŠØ¬Ù…Ù‘Ø¹ Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„Ø§Øª.",
      "ÙŠÙØ¹Ù„ Hot Module Replacement Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ ÙƒØ§Ù…Ù„Ø©."],
    tips:["Ù„Ùˆ Ø§Ù„Ù…Ù†ÙØ° Ù…Ø­Ø¬ÙˆØ² ØºÙŠÙ‘Ø±Ù‡: Vite â†’ --portØŒ Next â†’ PORT=4000 npm run dev."]
  },
  {
    id:"why",
    icon:"ğŸ§ ",
    title:"Ù„ÙŠØ´ Ù…Ø§ Ù†Ø´ØºÙ‘Ù„ index.html Ù…Ø¨Ø§Ø´Ø±Ø©ØŸ",
    badge:"Ù…Ù‡Ù…",
    prompt:"Ø§ÙÙ‡Ù… Ø¯ÙˆØ± Ø§Ù„Ø¨Ø§Ù†Ø¯Ù„Ø±/Ø§Ù„Ø³ÙŠØ±ÙØ± ÙˆÙ„Ù…Ø§Ø°Ø§ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† dev server.",
    behind:[
      "dev server ÙŠØ­Ù‚Ù† Ø§Ù„Ù€ assets ÙˆÙŠØ­Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª ESM.",
      "ÙŠØªØ±Ø¬Ù… TypeScript/JSX ÙˆÙŠØ·Ø¨Ù‚ HMR.",
      "ÙØªØ­ index.html Ù…Ø¨Ø§Ø´Ø±Ø© ÙŠØªØ¬Ø§ÙˆØ² ÙƒÙ„ Ø§Ù„Ø³Ø­Ø± Ù‡Ø°Ø§ ÙˆØºØ§Ù„Ø¨Ù‹Ø§ ÙŠÙØ´Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯."],
    tips:["index.html ÙŠØµÙ„Ø­ Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ vanilla Ø¨Ø³ÙŠØ·Ø© ÙÙ‚Ø·."]
  },
  {
    id:"edit",
    icon:"âœï¸",
    title:"Ø¹Ø¯Ù‘Ù„ ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù€ HMR",
    badge:"live",
    prompt:"Ø­Ø±Ù‘Ø± Ù…Ù„ÙØ§Øª src (Ù…Ø«Ù„Ø§Ù‹ App.tsx) ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙÙˆØ±Ù‹Ø§.",
    behind:[
      "Ø§Ù„Ù€ dev server ÙŠØ±Ø§Ù‚Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙŠØ­Ø¯Ø« Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…ØªØ£Ø«Ø±.",
      "ØªØ¬Ø±Ø¨Ø© ÙÙˆØ±ÙŠØ© Ø¨Ø¯ÙˆÙ† ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø­Ø§Ù„Ø© ØºØ§Ù„Ø¨Ù‹Ø§.",
      "Ø¨Ø¹Ø¶ ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØªØ·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„."],
    tips:["ØªØºÙŠÙŠØ± vite.config Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙƒØ¨Ø±Ù‰ â†’ Ø£Ø¹Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±."]
  },
  {
    id:"typecheck",
    icon:"ğŸ›¡ï¸",
    title:"ÙØ­Øµ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ TypeScript",
    badge:"TS",
    prompt:"Ø´ØºÙ‘Ù„ ÙØ­Øµ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø°Ù‡Ù†ÙŠÙ‹Ø§ ÙˆØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠØ©.",
    behind:[
      "Ø§Ù„Ø£Ø¯Ø§Ø© (Vite/Next) ØªØ¹Ù…Ù„ type-check Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ±/Ø§Ù„Ø¨Ù†Ø§Ø¡.",
      "Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠØ© ØªÙ…Ù†Ø¹ build ÙÙŠ CI ØºØ§Ù„Ø¨Ù‹Ø§.",
      "ØªØ­Ø³ÙŠÙ† DX ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø¨ÙƒØ±Ù‹Ø§."],
    tips:["Ø®Ø·Ø£ TSØŸ ØµØ­Ù‘Ø­ Ø§Ù„ØªØ¹Ø§Ø±ÙŠÙ Ø£Ùˆ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ ÙÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª/Ø§Ù„Ø®Ø¯Ù…Ø§Øª."]
  },
  {
    id:"build",
    icon:"ğŸ—ï¸",
    title:"Ø¨Ù†Ø§Ø¡ Ù†Ø³Ø®Ø© Ø¥Ù†ØªØ§Ø¬",
    badge:"build",
    prompt:"Ø§Ø¨Ù†Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø¶ØºÙˆØ·Ø©.",
    behind:[
      "Vite ÙŠØ®Ø±Ø¬ dist/ â€” Next ÙŠØ®Ø±Ø¬ .next/.",
      "Minify/Tree-shake/Code-split Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡.",
      "Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ±/Ø³ÙØªØ§ØªÙŠÙƒØ³."],
    tips:["Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±."],
  },
  {
    id:"preview",
    icon:"ğŸ‘€",
    title:"Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ù…Ø­Ù„ÙŠÙ‹Ø§",
    badge:"preview",
    prompt:"Ø´ØºÙ‘Ù„ Ø®Ø§Ø¯Ù… Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¨Ù†ÙŠØ©.",
    behind:[
      "ÙŠØªØ£ÙƒØ¯ Ø£Ù† build ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±.",
      "ÙŠØ­Ø§ÙƒÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ù†Ø´Ø± Ø¨Ø´ÙƒÙ„ Ø£Ø¯Ù‚.",
      "ÙŠÙƒØ´Ù Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª/Ø§Ù„Ø£ØµÙˆÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø±ÙØ¹."],
    tips:["Ù„Ùˆ ÙƒÙ„ Ø´ÙŠØ¡ ØªÙ…Ø§Ù… â€” Ù…Ø¨Ø±ÙˆÙƒ! ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø±."],
  },
  {
    id:"trouble",
    icon:"ğŸ§¯",
    title:"Ø­Ù„Ù‘ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
    badge:"Ø³Ø±ÙŠØ¹",
    prompt:"Ø¨Ø¯Ù‘Ù„ Ø§Ù„Ù…Ù†ÙØ°ØŒ Ù†Ø¸Ù‘Ù Ø§Ù„ØªØ«Ø¨ÙŠØªØŒ Ø£Ùˆ ØºÙŠÙ‘Ø± Ù†Ø³Ø®Ø© Node Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.",
    behind:[
      "Port Ù…Ø­Ø¬ÙˆØ² â†’ Ø§Ø®ØªØ± Ù…Ù†ÙØ° Ø¨Ø¯ÙŠÙ„.",
      "Install ÙØ§Ø´Ù„ â†’ Ø­Ø°Ù node_modules + Ø§Ù„Ù‚ÙÙ„ Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© install.",
      "Mismatch Node â†’ Ø§Ø³ØªØ®Ø¯Ù… nvm ÙˆÙ†Ø³Ø®Ø© LTS."],
    tips:["Ø§Ù‚Ø±Ø£ scripts Ø¨Ø¯Ù‚Ø© â€” Ø£Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ ÙŠØ®ØªÙ„Ù Ø­Ø³Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø©."]
  },
];

// ======= Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª =======
const nav = document.getElementById('nav');
const main = document.getElementById('main');

function renderNav(){
  const sec = document.createElement('div');
  sec.className='sec';
  steps.forEach((s,i)=>{
    const a = document.createElement('a');
    a.href = `#${s.id}`;
    a.className = 'link'+(i===0?' active':'');
    a.dataset.id = s.id;
    a.innerHTML = `<span>${s.icon}</span><span>${i+1}. ${s.title}</span>`;
    a.addEventListener('click', e=>{
      document.querySelectorAll('.link').forEach(x=>x.classList.remove('active'));
      a.classList.add('active');
      document.getElementById(s.id)?.scrollIntoView({behavior:'smooth',block:'start'});
    });
    sec.appendChild(a);
  });
  nav.appendChild(sec);
}

function confetti(){
  const box = document.getElementById('confetti');
  for(let i=0;i<40;i++){
    const el = document.createElement('div');
    el.className='piece';
    el.style.left = (Math.random()*100)+'vw';
    el.style.top = '-10vh';
    el.style.transform = `translateY(0) rotate(${Math.random()*180}deg)`;
    el.style.animationDelay = (Math.random()*300)+'ms';
    el.style.background = Math.random()>.5? 'linear-gradient(180deg, var(--accent2), var(--accent))':'linear-gradient(180deg, #ffd166, #fb7185)';
    box.appendChild(el);
    setTimeout(()=> el.remove(), 1600);
  }
}

function simulateConsole(el, lines){
  el.innerHTML = '';
  const flash = document.createElement('div');
  flash.className='flash';
  el.appendChild(flash);
  let i=0;
  function typeLine(){
    if(i>=lines.length){ confetti(); return; }
    const p = document.createElement('div');
    p.textContent = 'âœ ' + lines[i];
    el.appendChild(p);
    el.scrollTop = el.scrollHeight;
    i++;
    setTimeout(typeLine, 280);
  }
  typeLine();
}

function renderSteps(){
  steps.forEach((s, idx)=>{
    const card = document.createElement('section');
    card.className='card';
    card.id = s.id;
    card.innerHTML = `
      <div class="hdr">
        <div class="stepN">${idx+1}</div>
        <div style="font-weight:700">${s.icon} ${s.title}</div>
        <span class="badge">${s.badge}</span>
      </div>
      <div class="body">
        <div class="panel">
          <h4>Ø§Ù„Ù€ Prompt Ø§Ù„Ù„ÙŠ ØªÙ‚ÙˆÙ„Ù‡Ø§ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯</h4>
          <p style="font-size:15px">${s.prompt}</p>
          <div class="btns">
            <button class="btn" data-act="simulate">Ø´ØºÙ‘Ù„ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø±Ø¯ ğŸ’¬</button>
            <button class="btn alt" data-act="explain">ÙˆØ´ ÙŠØµÙŠØ± Ø®Ù„Ù Ø§Ù„ÙƒÙˆØ§Ù„ÙŠØ³ ğŸ”</button>
          </div>
          <div class="progress" style="margin-top:12px"><div class="bar"></div></div>
          <div class="tip" style="margin-top:12px;display:${s.tips?.length? 'flex':'none'}">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3v3M5.6 6.6l2.1 2.1M3 12h3m12 0h3M6.6 18.4l2.1-2.1M12 18v3m5.3-12.3-2.1 2.1" stroke="#22d3ee" stroke-width="2" stroke-linecap="round"/></svg>
            <div>${(s.tips||[]).join('<br/>')}</div>
          </div>
        </div>
        <div class="panel">
          <h4>Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªÙŠØ±Ù…Ù†Ø§Ù„ (Ø´ÙƒÙ„ Ø¨Ø³ Ù„Ù„ØªÙˆØ¶ÙŠØ­)</h4>
          <div class="console"></div>
        </div>
      </div>
    `;

    // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    const btnSim = card.querySelector('[data-act="simulate"]');
    const btnExp = card.querySelector('[data-act="explain"]');
    const cons = card.querySelector('.console');
    const bar = card.querySelector('.bar');

    btnSim.addEventListener('click',()=>{
      const lines = [
        'ÙÙ‡Ù…Øª Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª â€” Ø£Ø¬Ù‡Ù‘Ø² Ø§Ù„Ø®Ø·ÙˆØ©...',
        'Ø£Ø·Ø¨Ù‘Ù‚ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨...',
        'ØªÙ… â€” Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ© ÙˆØ§Ø³ØªÙ…ØªØ¹ âœ¨'
      ];
      simulateConsole(cons, lines);
      bar.style.width = '100%';
      setTimeout(()=> bar.style.width = '0%', 1400);
    });

    btnExp.addEventListener('click',()=>{
      const lines = s.behind.map((l,i)=> `${i+1}. ${l}`);
      simulateConsole(cons, lines);
      bar.style.width = '70%';
      setTimeout(()=> bar.style.width = '0%', 1600);
    });

    main.appendChild(card);
  });
}

renderNav();
renderSteps();

// Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù†Ø´Ø· Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      document.querySelectorAll('.link').forEach(a=>{
        a.classList.toggle('active', a.dataset.id===e.target.id);
      })
    }
  })
},{rootMargin:'-50% 0px -45% 0px', threshold:[0,1]});

document.querySelectorAll('section.card').forEach(sec=> io.observe(sec));
</script>
</body>
</html>
